# G Gmp
A short description of the project.


# Страница добавления пользователей в проект g-gmp/projects-users/
## Страница второго плана, после основного функционала.
Можно сделать эту страницу когда проваливаешься в экран проектов (где у тебя каналы продаж)
Сделать кнопку (сотрудники проекта или что-то такое) и вывести там пользователей.
Для менеджера есть кнопка добавить и кнопка напротив каждого пользователя с удалением.
Права доступа также, как и везде в словаре permission_rules.
1) Может добавлять только менеджер (поля 'project' и 'user')
2) Может удалять только менеджер
3) Могут просматривать все
4) Есть статистика по g-gmp/projects-users/statistics (доступна менеджерам)
Данные отдаются
{
    "user_request_count": [
        {
            "user": 1,
            "count": 1000
        }
    ],
    "user_request_sold": []
}
Ключ user_request_count это название диаграммы (Количество запросов в 
систему от данного пользователя).
Дальше идут значения.


# Страница проекта
Можно добавить под кнопкой пользователи, также доступно только для менеджера
В ней статистика по всему проекту в общем.

1) Также есть статистика projects/1/statistics/
{
    "user_count": 1,
    "products": {
        "popular": [
            {
                "product": 1,
                "count": 1000
            }
        ],
        "successful": []
    },
    "user_request": {
        "success_type": [
            {
                "success_type": "undefined",
                "count": 1000
            }
        ]
    }
}
user_count - плашка с количеством пользователей в системе
products - раздел продуктов. popular - популярность продуктов. successful - 
успешность продуктов
user_request - раздел запросов. success_type - количество запросов по статусам
## Просто сделай 2 типа диаграмм: круговую и столбчатую.
Потом просто данные будешь подставлять когда до конца доделаем)


# Добавление канала
ПЕРЕНЕС ПРОШЛУЮ ЛОГИКУ
1) api/g-gmp/projects-sales-channels/multiple-create/
Сюда кидаешь project и список sales_channels
2) Также будет страница статистики, пока не сделал ее.
3) На этом все


# Страницу рассылки тебе необходимо самому продумать (тебе надо подумать)
Тут либо дял каждого канала свою.
Типа для push и для доставки это вряд-ли будет что-то одинаковое
ИЛИ ЭТО ОБСУДИТЬ ВСЕМ ВМЕСТЕ, НО ПОЗЖЕ.



# Страница пользователей - таблица
1) /api/user-request/users-requests/ .
client_id - id из стороннего ресурса
source_client_info - название стороннего ресурса
client_data - инфа о клиенте
status - статус отправки данных в модель
success_type - насколько хорошо был сформирован ответ (проставляется пользователем системы)
messages - Список сообщений. Где первое сообщение - это то, которые мы отправили 
в модель, а второе сообщение ответ от модели.
Данные сообщения используются в диалоге. 
ЧТОБЫ ТЕБЕ ВЫВЕСТИ актуальное сообщение (Коля тогда говорил, что пользователь
должен будет сразу увидеть ответ, а не лазить постоянно в диалог)
бери поле из actual_message. если оно пустое, то просто модель еще не ответила